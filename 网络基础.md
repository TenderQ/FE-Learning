# 网络基础

## 从输入URL到页面加载的全过程

1. 浏览器的地址栏输入URL并按下回车

2. 浏览器查找当前URL是否存在缓存，并比较缓存是否过期(`cache-control`, `Expires`, `Etag`, `last-modified`)

3. DNS解析URL对应的IP

4. 根据IP建立TCP连接（三次握手）

5. HTTP发起请求

6. 服务器处理请求，浏览器接收HTTP响应

7. 渲染页面，构建DOM树

8. 关闭TCP连接（四次挥手）

细节点详解请跳转[从输入url到页面加载完成发生了什么？——前端角度](https://www.cnblogs.com/daijinxue/p/6640153.html)

## TCP的三次握手及四次挥手

### 三次握手

![三次握手](https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=553823905,3270509229&fm=173&app=25&f=JPEG?w=581&h=400&)

1. 连接开始时，连接建立方(Client)发送SYN包，并包含了自己的初始序号a

2. 连接接受方(Server)收到SYN包以后会回复一个SYN包，其中包含了对上一个a包的回应信息ACK，回应的序号为下一个希望收到包的序号，即a＋1，然后还包含了自己的初始序号b

3. 连接建立方(Client)收到回应的SYN包以后，回复一个ACK包做响应，其中包含了下一个希望收到包的序号即b＋1

### 四次挥手

![四次挥手](https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=2093785618,4182910024&fm=173&app=25&f=JPEG?w=590&h=402)

1. 首先进行关闭的一方（即发送第一个FIN）将执行主动关闭，而另一方（收到这个FIN）执行被动关闭

2. 当服务器收到这个FIN，它发回一个ACK，确认序号为收到的序号加1。和SYN一样，一个FIN将占用一个序号

3. 同时TCP服务器还向应用程序（即丢弃服务器）传送一个文件结束符。接着这个服务器程序就关闭它的连接，导致它的TCP端发送一个FIN

4. 客户必须发回一个确认，并将确认序号设置为收到序号加1。

## 常见状态码

- 1xx：指示信息–表示请求已接收，继续处理

- 2xx：成功–表示请求已被成功接收、理解、接受

- 3xx：重定向–要完成请求必须进行更进一步的操作

- 4xx：客户端错误–请求有语法错误或请求无法实现

- 5xx：服务器端错误–服务器未能实现合法的请求
